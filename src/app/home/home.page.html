<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Scan the QR
    </ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/upload-csv">
        <ion-icon name="settings-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" [style.--background]="scanActive?'#00000000':'#fff'">

  <div>
    <ion-button class="btn-fixed-bottom ion-margin" expand="block" *ngIf="!scanActive" (click)="startScan()">Start Scanning</ion-button>

  <ion-button color="danger" class="btn-fixed-bottom ion-margin" expand="block" *ngIf="scanActive" (click)="stopScan()">Stop Scanning</ion-button>
  </div>
  <div class="scan-box" [hidden]="!scanActive"></div>
  <ng-container *ngIf="result && !scanActive">
   <div class="ion-padding">
    <p class="ion-text-center" >{{result}}</p>
    <!-- string interpolation to show result present in displayData variable -->
    <p *ngFor="let item of displayData | keyvalue">
     <ng-container *ngIf="item.key && item.value">
      <strong>{{item.key}} :</strong>
      <span> {{item.value}}</span>
     </ng-container>
    </p>
   </div>
   <br><br>
  </ng-container>
</ion-content>
